PROJECT (ScBridge)

CMAKE_MINIMUM_REQUIRED ( VERSION 3.4 )

MESSAGE(STATUS "\nScBridge init...")
MESSAGE(STATUS "SC_SOURCE_DIR : " ${SC_SOURCE_DIR})
MESSAGE(STATUS "SC_BUILD_DIR : " ${SC_BUILD_DIR})

FIND_PACKAGE(Qt5Core)
FIND_PACKAGE(Qt5Widgets)
FIND_PACKAGE(Qt5Gui)
FIND_PACKAGE(Qt5Network)


SET(QT_LIBRARIES 
	Qt5::Core
	Qt5::Gui 
	Qt5::Widgets
	Qt5::Network
)

SET(ScBridge_hdr ScBridge.h)
SET(ScBridge_src ScBridge.cpp)

#ADD_LIBRARY(ScBridge STATIC ${ScBridge_src} ${ScBridge_hdr})
ADD_EXECUTABLE(ScBridge ${ScBridge_src} ${ScBridge_hdr})

TARGET_INCLUDE_DIRECTORIES(ScBridge PUBLIC ${OSCPACK_INCLUDE_DIR}/osc)

TARGET_LINK_LIBRARIES(ScBridge 
	${QT_LIBRARIES}
	
)



MESSAGE(STATUS "ScBridge include folders:")
GET_TARGET_PROPERTY(BRIDGE_INCLUDE_DIRS ScBridge INCLUDE_DIRECTORIES)
FOREACH(ONE_BRGINCLUDE ${BRIDGE_INCLUDE_DIRS})	
		MESSAGE(STATUS "\t - " ${ONE_BRGINCLUDE})
ENDFOREACH(ONE_BRGINCLUDE)

MESSAGE(STATUS "\nScBridge linked libraies:")
GET_TARGET_PROPERTY(BRIDGE_LINK_LIBRARIES ScBridge LINK_LIBRARIES)
FOREACH(ONE_BRGLINK ${BRIDGE_LINK_LIBRARIES})	
		MESSAGE(STATUS "\t - " ${ONE_BRGLINK})
ENDFOREACH(ONE_BRGLINK)

INSTALL(TARGETS ScBridge DESTINATION  ${SC_BUILD_DIR}/Install/Supercollider)


MESSAGE(STATUS "\nScBridge done...")
